"""
Lane County is divided by the Willamette Meridian. Ranges that are
west of the Willamette Meridian are 2 digit numbers that start at 01
and increase by increments of 1 going west. Ranges that are east of
the Willamette Meridian are also 2 digit numbers that start at 15 and
increase by increments of 10 going east.

See:
http://lanecounty.org/UserFiles/Servers/Server_3585797/File/Government/County%20Departments/Assessment%20and%20Taxation/map%20index%20book.pdf

township NN
range  NN
section NN
1/4 section 1-4
1/16 section 1-4

TTRRSS46
"""
from itertools import chain



def ranges(raw: list) -> list:
    """
    Accept a list of tuples (begin, end, [interval]) and ints.
    Return as a flattened list of ints.
    """

    def process(elem):
        match elem:
            case (begin, end, interval):
                return range(begin, end + 1, interval)
            case (begin, end):
                return range(begin, end + 1)
            case n:
                return [n]

    return list(chain.from_iterable([process(elem) for elem in raw]))


townships = ranges(
    [
        1501,
        1502,
        (1504, 1511),
        (1601, 1612),
        (1701, 1712),
        (1801, 1812),
        (1901, 1908),
        (1910, 1912),
        (2001, 2007),
        (2101, 2104),
        (2201, 2204),
        (2301, 2303),
        (1515, 1575, 10),
        1579,
        (1615, 1685, 10),
        (1715, 1775, 10),
        (1815, 1875, 10),
        (1915, 1975, 10),
        (2015, 2065, 10),
        (2115, 2165, 10),
        (2215, 2265, 10),
        (2315, 2355, 10),
        2359,
        (2415, 2455, 10),
    ]
)

cities = {
    "alvadore": [
        160534,
        160535,
        170502,
        170503,
    ],
    "blachly": [
        160709,
    ],
    "blue_river": [
        164520,
        164521,
        164528,
        164529,
    ],
    "cheshire": [
        160510,
        160515,
    ],
    "coburg": [
        160328,
        160329,
        160332,
        160333,
        170304,
    ],
    "cottage_grove": [
        200321,
        200322,
        200326,
        200327,
        200328,
        200329,
        200332,
        200333,
        200334,
        200335,
        210304,
        210305,
    ],
    "creswell": [
        190310,
        190311,
        190312,
        190313,
        190314,
        190315,
        190323,
    ],
    "crow": [
        180518,
        180519,
    ],
    "culp_creek": [
        210130,
        210131,
        210132,
        210133,
        220105,
    ],
    "cushman": [
        181130,
    ],
    "deadwood": [
        170913,
        170914,
        170915,
        170916,
    ],
    "dexter": [
        190115,
        190116,
        190117,
        190120,
        190121,
    ],
    "dorena": [
        210130,
    ],
    "dune_city": [
        191200,
        191211,
        191213,
        191214,
        191215,
        191222,
        191223,
        191224,
        191226,
        191227,
        191234,
        201200,
        201203,
    ],
    "elmira": [
        170624,
        170625,
    ],
    "eugene": [
        160432,
        160433,
        160435,
        160436,
        170306,
        170307,
        170308,
        170309,
        170315,
        170316,
        170317,
        170318,
        170319,
        170320,
        170321,
        170322,
        170327,
        170328,
        170329,
        170330,
        170331,
        170332,
        170333,
        170401,
        170402,
        170403,
        170404,
        170405,
        170408,
        170409,
        170410,
        170411,
        170412,
        170413,
        170414,
        170415,
        170416,
        170417,
        170418,
        170419,
        170420,
        170421,
        170422,
        170423,
        170424,
        170425,
        170426,
        170427,
        170428,
        170429,
        170430,
        170431,
        170432,
        170433,
        170434,
        170435,
        170436,
        180303,
        180304,
        180305,
        180306,
        180307,
        180308,
        180309,
        180310,
        180316,
        180317,
        180318,
        180319,
        180320,
        180321,
        180401,
        180402,
        180403,
        180404,
        180405,
        180409,
        180410,
        180411,
        180412,
        180413,
    ],
    "fall_creek": [
        180133,
    ],
    "florence": [
        171200,
        171233,
        181200,
        181203,
        181204,
        181209,
        181210,
        181211,
        181214,
        181215,
        181216,
        181222,
        181223,
        181224,
        181226,
        181227,
        181234,
        181235,
    ],
    "franklin": [
        160521,
        160528,
    ],
    "glenada": [
        181234,
        181235,
        191202,
        191203,
        191210,
        191211,
    ],
    "goshen": [
        180314,
        180323,
        180324,
        180325,
        180326,
    ],
    "greenleaf": [
        170804,
        170809,
    ],
    "jasper": [
        180214,
        180223,
    ],
    "junction_city": [
        150429,
        150430,
        150431,
        150432,
        150536,
        160405,
        160406,
        160408,
        160417,
        160420,
        160421,
    ],
    "lancaster": [
        150420,
    ],
    "leaburg": [
        171509,
        171510,
    ],
    "lorane": [
        200512,
        200513,
    ],
    "lowell": [
        190110,
        190111,
        190113,
        190114,
        190115,
    ],
    "mapleton": [
        171035,
        181002,
        181011,
    ],
    "marcola": [
        160118,
        160119,
        160213,
        160224,
    ],
    "mckenzie_bridge": [
        165513,
        165514,
        165523,
        166518,
    ],
    "nimrod": [
        173502,
        173503,
        173510,
        173511,
    ],
    "noti": [
        170629,
        170630,
    ],
    "oakridge": [
        213500,
        213509,
        213510,
        213515,
        213516,
        213517,
        213518,
        213521,
        213522,
    ],
    "pleasant_hill": [
        180228,
        180229,
        180233,
    ],
    "springfield": [
        170219,
        170220,
        170227,
        170228,
        170229,
        170230,
        170231,
        170232,
        170233,
        170234,
        170235,
        170236,
        170314,
        170315,
        170316,
        170322,
        170323,
        170324,
        170325,
        170326,
        170327,
        170328,
        170333,
        170334,
        170335,
        170336,
        180201,
        180202,
        180203,
        180204,
        180205,
        180206,
        180215,
        180301,
        180302,
        180303,
        180304,
        180310,
        180311,
        180312,
    ],
    "swisshome": [
        170929,
        170930,
    ],
    "trent": [
        190201,
    ],
    "triangle_lake": [
        160717,
        160718,
        160719,
        160720,
    ],
    "veneta": [
        170530,
        170531,
        170532,
        170625,
        170635,
        170636,
        180506,
        180601,
        180602,
    ],
}
